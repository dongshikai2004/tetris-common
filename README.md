# 创新俄罗斯方块

![游戏截图](assets/images/screenshot.png)

*注：请将示例截图放置在assets/images目录下，命名为screenshot.png*

## 项目概述

创新俄罗斯方块是一个基于Python和Pygame开发的现代俄罗斯方块游戏，融合了传统玩法和创新功能。本项目提供了流畅的游戏体验、多种游戏模式和特殊方块，适合各类玩家。通过优化的游戏机制和精美的视觉效果，为经典游戏注入了新的活力。

## 功能特点

- **三种游戏模式**：经典模式、限时模式和挑战模式
- **特殊方块类型**：爆炸方块、彩虹方块和冰冻方块
- **幽灵方块预览**：显示方块落地位置，帮助玩家做出更好的决策
- **连消加分系统**："Perfect"连消效果，连续消除行获得额外分数奖励
- **游戏统计**：详细记录游戏数据和表现，支持图表可视化
- **历史最高分**：显示各模式的历史最高分，提高重玩价值
- **长按加速**：支持长按下键加速下落，提供更流畅的操作体验
- **直观美观的界面**：现代化UI设计和动画效果
- **支持中文**：全中文界面和提示，适合中文用户

## 安装方法

### 系统需求

- Python 3.6+
- Pygame 2.0+
- Matplotlib (用于统计图表)
- NumPy
- pywin32
- 支持的操作系统：Windows、Linux、macOS

### 安装步骤

1. 克隆或下载本项目
2. 安装必要的依赖：
   ```
   pip install pygame matplotlib numpy
   ```
3. 运行游戏：
   ```
   python main.py
   ```

## 游戏控制

- **上箭头**：旋转方块
- **左/右箭头**：左右移动方块
- **下箭头**：加速下落（支持长按持续加速）
- **空格键**：硬降（快速落到底部）
- **P键**：暂停/继续游戏
- **R键**：返回主菜单（需要确认）
- **Q键**：在游戏中立即返回主菜单
- **回车键**：在主菜单中选择选项

## 游戏模式

- **经典模式**：传统俄罗斯方块玩法，随着等级提升，方块下落速度加快
- **限时模式**：在3分钟内消除尽可能多的行，有更多特殊方块出现
- **挑战模式**：面对随机出现的特殊方块和不断增加的下落速度，看看你能坚持多久

## 特殊方块介绍

- **爆炸方块（红色）**：落地后会清除周围半径为2的方块，可以快速清理堆积
- **彩虹方块（黄色）**：能够适应周围颜色形成消除组合，在关键时刻特别有用
- **冰冻方块（蓝色）**：特殊效果方块，提供独特游戏体验

## 得分系统

- **基础消行得分**：每行100分×当前等级
- **一次消除多行奖励**：
  - 2行：额外100分×等级
  - 3行：额外300分×等级
  - 4行：额外800分×等级
- **连消奖励**：从第二次连消开始，每次连消获得(连消数×50×等级)的额外分数
- **"Perfect"连消效果**：连续消行时会显示特效和额外分数提示
- **历史最高分**：游戏自动记录和显示各模式的历史最高分

## 数据统计与分析

- **实时记录游戏数据**：记录分数、消除行数、使用方块类型等
- **历史记录**：保存最近100局游戏的详细数据
- **数据可视化**：包括分数趋势、方块使用分布、各模式平均分数等多种统计图表

## 游戏界面特性

- **信息面板**：显示当前分数、历史最高分、等级和游戏模式
- **幽灵方块**：预览当前方块落地位置
- **下一个方块预览**：提前了解即将出现的方块
- **连消特效**：动态显示连续消行的效果和奖励分数
- **界面动画**：包括平滑移动、旋转和下落效果
- **游戏状态提示**：暂停、返回确认和游戏结束提示

## 项目结构
tetris-common/  
├── assets/               # 游戏资源（音效、音乐、字体）  
├── analytics/            # 游戏数据统计模块  
│   └── statistics.py  
├── blocks/               # 方块定义和工厂  
│   ├── base_block.py  
│   └── block_factory.py  
├── core/                 # 游戏核心逻辑  
│   ├── board.py  
│   └── game.py  
├── physics/              # 物理引擎  
│   └── engine.py  
├── sound/                # 音频管理  
│   └── audio_manager.py  
├── ui/                   # 用户界面  
│   ├── menu.py  
│   └── renderer.py  
├── utils/                # 实用工具  
│   └── font_manager.py  
├── main.py               # 程序入口  
└── README.md             # 项目说明  

## 开发技术

- **Python**：主要开发语言
- **Pygame**：游戏开发框架
- **Matplotlib**：数据可视化
- **面向对象编程**：模块化设计，便于扩展
- **设计模式**：工厂模式（方块创建）、状态模式（游戏状态管理）

## 扩展与自定义

想自定义游戏体验？您可以：

- 添加新的方块类型（编辑`blocks/block_factory.py`）
- 设计新的游戏模式（修改`core/game.py`）
- 自定义键位映射
- 替换游戏音效和音乐（放入`assets/sounds/`和`assets/music/`目录）

## 许可证

本项目基于MIT许可证开源，详见LICENSE文件。

## 致谢

感谢所有为俄罗斯方块游戏发展作出贡献的开发者们。